# Архитектура

- **Стек**: HTML + CSS + Vanilla JS (ES-модули), без сборщика. Подключение модулей через `<script type="module">`.
- **Маршрутизация**: Роутер — router.js перехватывает клики по внутренним ссылкам и подменяет содержимое `<main>` (SPA-эффект). При ошибке — нормальный переход.
- **Данные**: API слой — api.js — тонкий клиент к Supabase REST. Таблицы: `news`, `events`, `eventdetails`.
- **Страницы**:
  - Страницы/Главная — блоки «Останні новини» и «Найближчі події».
  - Страницы/Новости — список новостей, фильтры, пагинация.
  - Страницы/Новость — одна новость + «Схожі» и «Останні».
  - Страницы/Календарь — фильтруемый список событий, переключение месяца/года.
  - Страницы/Событие — детали — подробности события с программой и потоками.
- **Компоненты**: Компоненты/header.js — мобильное меню (drawer) без внешних библиотек.
- **Прогрев/кеш**: модуль новостей прогревает кэш списка (в `window.__newsCache`).
- **Прогрессивное улучшение**: при отсутствии JS страницы остаются читабельными (HTML разметка + ссылки).

## Поток навигации
1. Пользователь кликает по ссылке → Роутер — router.js проверяет допустимость перехода.
2. Если допустимо: fetch новой страницы → парсинг → подмена `<main>` → догрузка нужного модуля страницы (`initPage`).
3. Если что-то пошло не так: стандартная загрузка URL.

## Структура директорий (основное)
- `scripts/lib/` — инфраструктура: роутер, API.
- `scripts/news/` — новости (листинг, элемент, главная).
- `scripts/calendar/` — календарь.
- `scripts/events/` — детали события.
- `scripts/components/` — UI-компоненты (header/drawer).
- `css/` — стили по страницам/частям.
- `assets/` — изображения, CSV и пр.

## Связи (древо)
Архитектура
↳ Страницы
  ↳ [[Страницы/Главная]] → см. связанные HTML/CSS/JS в заметке страницы
  ↳ [[Страницы/Новости]] → см. связанные HTML/CSS/JS в заметке страницы
  ↳ Страницы/Новость → см. связанные HTML/CSS/JS в заметке страницы
  ↳ [[Страницы/Календарь]] → см. связанные HTML/CSS/JS в заметке страницы
  ↳ Страница Евента → см. связанные HTML/CSS/JS в заметке страницы
↳ [[Компоненты]]
  ↳ Компоненты/header.js

— Навигация —
- [[README]]

